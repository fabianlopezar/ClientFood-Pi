{"ast":null,"code":"const GET_RECIPES = \"GET_RECIPES\";\nconst FILTER_BY_DIET = \"FILTER_BY_DIET\";\nconst FILTER_CREATED = \"FILTER_CREATED\";\nconst ORDER_BY_TITLE = \"ORDER_BY_TITLE\";\nconst ORDER_BY_SCORE = \"ORDER_BY_SCORE\";\nconst GET_BY_TITLE = \"GET_BY_TITLE\";\nconst GET_BY_ID = \"GET_BY_ID\";\nconst GET_BY_DIET = \"GET_BY_ID\";\nexport const initialState = {\n  recipes: [],\n  allRecipes: [],\n  details: [],\n  typeDiet: []\n};\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const allRecipes = state.allRecipes;\n  switch (action.type) {\n    //---------------------\n    case GET_RECIPES:\n      return {\n        ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n    //---------------------\n    case GET_BY_TITLE:\n      return {\n        ...state,\n        recipes: action.payload\n      }, console.log(\"deberia funcionar title: \", action.payload);\n    //---------------------\n    case FILTER_BY_DIET:\n      const typeDietFilter = action.payload === \"All\" ? allRecipes : allRecipes.filter(el => el.TypeDiet.find(el => el.name === action.payload));\n      return {\n        ...state,\n        recipes: typeDietFilter\n      };\n    //---------------------\n    case FILTER_CREATED:\n      const createdFilter = action.payload === \"created\" ? allRecipes.filter(el => el.createdInDb) : allRecipes.filter(el => !el.createdInDb);\n      return {\n        ...state,\n        recipes: action.payload === \"all\" ? state.allRecipes : createdFilter\n      };\n    //---------------------\n    case ORDER_BY_TITLE:\n      let order = action.payload === \"asc\" ? state.recipes.sort(function (a, b) {\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return 1;\n        }\n        if (b.title.toLowerCase() > a.title.toLowerCase()) {\n          return -1;\n        }\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return -1;\n        }\n        if (b.title.toLowerCase() > a.title.toLowerCase()) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        recipes: order\n      };\n    default:\n      return state;\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["GET_RECIPES","FILTER_BY_DIET","FILTER_CREATED","ORDER_BY_TITLE","ORDER_BY_SCORE","GET_BY_TITLE","GET_BY_ID","GET_BY_DIET","initialState","recipes","allRecipes","details","typeDiet","rootReducer","state","action","type","payload","console","log","typeDietFilter","filter","el","TypeDiet","find","name","createdFilter","createdInDb","order","sort","a","b","title","toLowerCase"],"sources":["C:/Users/INTEL i 7/Desktop/HENRY/PI/PI-Food-main/client/src/redux/reducer.js"],"sourcesContent":["const GET_RECIPES = \"GET_RECIPES\";\r\nconst FILTER_BY_DIET = \"FILTER_BY_DIET\";\r\nconst FILTER_CREATED= \"FILTER_CREATED\"\r\nconst ORDER_BY_TITLE = \"ORDER_BY_TITLE\";\r\nconst ORDER_BY_SCORE = \"ORDER_BY_SCORE\";\r\nconst GET_BY_TITLE = \"GET_BY_TITLE\";\r\nconst GET_BY_ID = \"GET_BY_ID\";\r\nconst GET_BY_DIET = \"GET_BY_ID\";\r\n\r\nexport const initialState = {\r\n  recipes: [],\r\n  allRecipes: [],\r\n  details: [],\r\n  typeDiet: [],\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  const allRecipes = state.allRecipes\r\n  switch (action.type) {\r\n    \r\n//---------------------\r\n    case GET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload,\r\n      };\r\n//---------------------\r\n    case GET_BY_TITLE:\r\n      return ({ \r\n        ...state, \r\n        recipes: action.payload,\r\n      }, console.log(\"deberia funcionar title: \", action.payload))\r\n//---------------------\r\n    case FILTER_BY_DIET:      \r\n      const typeDietFilter = action.payload===\"All\"\r\n      ?allRecipes \r\n      :allRecipes.filter(el=>el.TypeDiet.find(el=>el.name===action.payload))\r\n      return {\r\n        ...state,\r\n        recipes:typeDietFilter\r\n      }\r\n//---------------------\r\n    case FILTER_CREATED:\r\n      const createdFilter=action.payload===\"created\"\r\n      ?allRecipes.filter(el=>el.createdInDb)\r\n      :allRecipes.filter(el=>!el.createdInDb)\r\n      return{\r\n        ...state,\r\n        recipes: action.payload===\"all\"\r\n        ?state.allRecipes\r\n        :createdFilter\r\n      }\r\n//---------------------\r\n      case ORDER_BY_TITLE:\r\n        let order=action.payload===\"asc\"\r\n        ?state.recipes.sort(function(a,b){\r\n          if(a.title.toLowerCase()>b.title.toLowerCase()){\r\n            return 1;\r\n          }\r\n        if(b.title.toLowerCase()>a.title.toLowerCase()){\r\n          return -1;\r\n          }\r\n          return 0;\r\n        }):\r\n        state.recipes.sort(function(a,b){\r\n          if(a.title.toLowerCase()>b.title.toLowerCase()){\r\n            return -1;\r\n          }\r\n          if(b.title.toLowerCase()>a.title.toLowerCase()){\r\n            return 1;\r\n          }\r\n          return 0;\r\n        })\r\n        return {\r\n          ...state,\r\n          recipes:order\r\n      }\r\n          \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;\r\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,aAAa;AACjC,MAAMC,cAAc,GAAG,gBAAgB;AACvC,MAAMC,cAAc,GAAE,gBAAgB;AACtC,MAAMC,cAAc,GAAG,gBAAgB;AACvC,MAAMC,cAAc,GAAG,gBAAgB;AACvC,MAAMC,YAAY,GAAG,cAAc;AACnC,MAAMC,SAAS,GAAG,WAAW;AAC7B,MAAMC,WAAW,GAAG,WAAW;AAE/B,OAAO,MAAMC,YAAY,GAAG;EAC1BC,OAAO,EAAE,EAAE;EACXC,UAAU,EAAE,EAAE;EACdC,OAAO,EAAE,EAAE;EACXC,QAAQ,EAAE;AACZ,CAAC;AAED,SAASC,WAAW,GAA+B;EAAA,IAA9BC,KAAK,uEAAGN,YAAY;EAAA,IAAEO,MAAM;EAC/C,MAAML,UAAU,GAAGI,KAAK,CAACJ,UAAU;EACnC,QAAQK,MAAM,CAACC,IAAI;IAErB;IACI,KAAKhB,WAAW;MACd,OAAO;QACL,GAAGc,KAAK;QACRL,OAAO,EAAEM,MAAM,CAACE,OAAO;QACvBP,UAAU,EAAEK,MAAM,CAACE;MACrB,CAAC;IACP;IACI,KAAKZ,YAAY;MACf,OAAQ;QACN,GAAGS,KAAK;QACRL,OAAO,EAAEM,MAAM,CAACE;MAClB,CAAC,EAAEC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEJ,MAAM,CAACE,OAAO,CAAC;IACjE;IACI,KAAKhB,cAAc;MACjB,MAAMmB,cAAc,GAAGL,MAAM,CAACE,OAAO,KAAG,KAAK,GAC5CP,UAAU,GACVA,UAAU,CAACW,MAAM,CAACC,EAAE,IAAEA,EAAE,CAACC,QAAQ,CAACC,IAAI,CAACF,EAAE,IAAEA,EAAE,CAACG,IAAI,KAAGV,MAAM,CAACE,OAAO,CAAC,CAAC;MACtE,OAAO;QACL,GAAGH,KAAK;QACRL,OAAO,EAACW;MACV,CAAC;IACP;IACI,KAAKlB,cAAc;MACjB,MAAMwB,aAAa,GAACX,MAAM,CAACE,OAAO,KAAG,SAAS,GAC7CP,UAAU,CAACW,MAAM,CAACC,EAAE,IAAEA,EAAE,CAACK,WAAW,CAAC,GACrCjB,UAAU,CAACW,MAAM,CAACC,EAAE,IAAE,CAACA,EAAE,CAACK,WAAW,CAAC;MACvC,OAAM;QACJ,GAAGb,KAAK;QACRL,OAAO,EAAEM,MAAM,CAACE,OAAO,KAAG,KAAK,GAC9BH,KAAK,CAACJ,UAAU,GAChBgB;MACH,CAAC;IACP;IACM,KAAKvB,cAAc;MACjB,IAAIyB,KAAK,GAACb,MAAM,CAACE,OAAO,KAAG,KAAK,GAC/BH,KAAK,CAACL,OAAO,CAACoB,IAAI,CAAC,UAASC,CAAC,EAACC,CAAC,EAAC;QAC/B,IAAGD,CAAC,CAACE,KAAK,CAACC,WAAW,EAAE,GAACF,CAAC,CAACC,KAAK,CAACC,WAAW,EAAE,EAAC;UAC7C,OAAO,CAAC;QACV;QACF,IAAGF,CAAC,CAACC,KAAK,CAACC,WAAW,EAAE,GAACH,CAAC,CAACE,KAAK,CAACC,WAAW,EAAE,EAAC;UAC7C,OAAO,CAAC,CAAC;QACT;QACA,OAAO,CAAC;MACV,CAAC,CAAC,GACFnB,KAAK,CAACL,OAAO,CAACoB,IAAI,CAAC,UAASC,CAAC,EAACC,CAAC,EAAC;QAC9B,IAAGD,CAAC,CAACE,KAAK,CAACC,WAAW,EAAE,GAACF,CAAC,CAACC,KAAK,CAACC,WAAW,EAAE,EAAC;UAC7C,OAAO,CAAC,CAAC;QACX;QACA,IAAGF,CAAC,CAACC,KAAK,CAACC,WAAW,EAAE,GAACH,CAAC,CAACE,KAAK,CAACC,WAAW,EAAE,EAAC;UAC7C,OAAO,CAAC;QACV;QACA,OAAO,CAAC;MACV,CAAC,CAAC;MACF,OAAO;QACL,GAAGnB,KAAK;QACRL,OAAO,EAACmB;MACZ,CAAC;IAUH;MACE,OAAOd,KAAK;EAAC;AAEnB;AAEA,eAAeD,WAAW"},"metadata":{},"sourceType":"module"}