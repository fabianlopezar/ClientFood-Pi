{"ast":null,"code":"const GET_RECIPES = \"GET_RECIPES\";\nconst FILTER_BY_DIET = \"FILTER_BY_DIET\";\nconst FILTER_CREATED = \"FILTER_CREATED\";\nconst ORDER_BY_TITLE = \"ORDER_BY_TITLE\";\nconst ORDER_BY_SCORE = \"ORDER_BY_SCORE\";\nconst GET_BY_TITLE = \"GET_BY_TITLE\";\nconst GET_BY_ID = \"GET_BY_ID\";\nconst GET_BY_DIET = \"GET_BY_ID\";\nconst POST_RECIPES = \"POST_RECIPES\";\nexport const initialState = {\n  recipes: [],\n  allRecipes: [],\n  details: [],\n  typeDiet: []\n};\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const allRecipes = state.allRecipes;\n  switch (action.type) {\n    //---------------------\n    case GET_RECIPES:\n      return {\n        ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n    //---------------------\n    case GET_BY_TITLE:\n      return {\n        ...state,\n        recipes: action.payload\n      };\n    //---------------------\n    case FILTER_BY_DIET:\n      const typeDietFilter = action.payload === \"all\" ? allRecipes : allRecipes.filter(el => el.TypeDiet.find(el => el.name === action.payload));\n      return {\n        ...state,\n        recipes: typeDietFilter\n      };\n    //---------------------\n    case FILTER_CREATED:\n      const createdFilter = action.payload === \"created\" ? allRecipes.filter(el => el.createdInDb) : allRecipes.filter(el => !el.createdInDb);\n      return {\n        ...state,\n        recipes: action.payload === \"all\" ? state.allRecipes : createdFilter\n      };\n    //---------------------\n    case ORDER_BY_TITLE:\n      //console.log(\"deberia funcionar\")\n      let order = action.payload === \"asc\" ? state.recipes.sort(function (a, b) {\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return 1;\n        }\n        if (b.title.toLowerCase() > a.title.toLowerCase()) {\n          return -1;\n        }\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return -1;\n        }\n        if (b.title.toLowerCase() > a.title.toLowerCase()) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        recipes: order\n      };\n    //---------------------\n    case ORDER_BY_SCORE:\n      let orderScor = action.payload === 'low' ? state.recipes.sort(function (a, b) {\n        if (a.healthScore > b.healthScore) {\n          return 1;\n        }\n        if (b.healthScore > a.healthScore) {\n          return -1;\n        }\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.healthScore > b.healthScore) {\n          return -1;\n        }\n        if (b.healthScore > a.healthScore) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        recipes: orderScor\n      };\n    //---------------------\n    case GET_BY_DIET:\n      return {\n        ...state,\n        typeDiet: action.payload\n      };\n    //---------------------\n    case POST_RECIPES:\n      return {\n        ...state\n      };\n    //---------------------\n    case GET_BY_ID:\n      return {\n        ...state\n      };\n    default:\n      return state;\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["GET_RECIPES","FILTER_BY_DIET","FILTER_CREATED","ORDER_BY_TITLE","ORDER_BY_SCORE","GET_BY_TITLE","GET_BY_ID","GET_BY_DIET","POST_RECIPES","initialState","recipes","allRecipes","details","typeDiet","rootReducer","state","action","type","payload","typeDietFilter","filter","el","TypeDiet","find","name","createdFilter","createdInDb","order","sort","a","b","title","toLowerCase","orderScor","healthScore"],"sources":["C:/Users/INTEL i 7/Desktop/HENRY/PI/PI-Food-main/client/src/redux/reducer.js"],"sourcesContent":["const GET_RECIPES = \"GET_RECIPES\";\r\nconst FILTER_BY_DIET = \"FILTER_BY_DIET\";\r\nconst FILTER_CREATED= \"FILTER_CREATED\"\r\nconst ORDER_BY_TITLE = \"ORDER_BY_TITLE\";\r\nconst ORDER_BY_SCORE = \"ORDER_BY_SCORE\";\r\nconst GET_BY_TITLE = \"GET_BY_TITLE\";\r\nconst GET_BY_ID = \"GET_BY_ID\";\r\nconst GET_BY_DIET = \"GET_BY_ID\";\r\nconst POST_RECIPES= \"POST_RECIPES\";\r\n\r\nexport const initialState = {\r\n  recipes: [],\r\n  allRecipes: [],\r\n  details: [],\r\n  typeDiet: [],\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  const allRecipes = state.allRecipes\r\n  switch (action.type) {\r\n    \r\n//---------------------\r\n    case GET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload,\r\n      };\r\n//---------------------\r\n    case GET_BY_TITLE:\r\n      return { \r\n        ...state, \r\n        recipes: action.payload,\r\n      }\r\n//---------------------\r\n    case FILTER_BY_DIET:      \r\n      const typeDietFilter = action.payload===\"all\"\r\n      ?allRecipes \r\n      :allRecipes.filter(el=>el.TypeDiet.find(el=>el.name===action.payload))\r\n      return {\r\n        ...state,\r\n        recipes:typeDietFilter\r\n      }\r\n//---------------------\r\n    case FILTER_CREATED:\r\n      const createdFilter=action.payload===\"created\"\r\n      ?allRecipes.filter(el=>el.createdInDb)\r\n      :allRecipes.filter(el=>!el.createdInDb)\r\n      return{\r\n        ...state,\r\n        recipes: action.payload===\"all\"\r\n        ?state.allRecipes\r\n        :createdFilter\r\n      }\r\n//---------------------\r\n      case ORDER_BY_TITLE:\r\n        //console.log(\"deberia funcionar\")\r\n        let order=action.payload===\"asc\"\r\n        ?state.recipes.sort(function(a,b){\r\n          if(a.title.toLowerCase()>b.title.toLowerCase()){\r\n            return 1;\r\n          }\r\n        if(b.title.toLowerCase()>a.title.toLowerCase()){\r\n          return -1;\r\n          }\r\n          return 0;\r\n        }):\r\n        state.recipes.sort(function(a,b){\r\n          if(a.title.toLowerCase()>b.title.toLowerCase()){\r\n            return -1;\r\n          }\r\n          if(b.title.toLowerCase()>a.title.toLowerCase()){\r\n            return 1;\r\n          }\r\n          return 0;\r\n        })\r\n        return {\r\n          ...state,\r\n          recipes:order\r\n      }\r\n//---------------------\r\ncase ORDER_BY_SCORE:\r\n  let orderScor = action.payload === 'low' ? \r\n  state.recipes.sort(function(a,b) {\r\n      if(a.healthScore > b.healthScore) {\r\n          return 1\r\n      }\r\n      if( b.healthScore > a.healthScore){\r\n          return -1\r\n      }\r\n      return 0\r\n  }) : \r\n  state.recipes.sort(function(a,b) {\r\n      if(a.healthScore > b.healthScore) {\r\n          return -1\r\n      }\r\n      if( b.healthScore > a.healthScore){\r\n          return 1\r\n      }\r\n      return 0\r\n  })\r\n  return{\r\n      ...state ,\r\n      recipes : orderScor\r\n}\r\n//---------------------\r\ncase GET_BY_DIET:\r\n  return {\r\n    ...state,\r\n    typeDiet:action.payload\r\n  }\r\n//---------------------\r\ncase POST_RECIPES:\r\n  return {\r\n    ...state,\r\n  }\r\n//---------------------\r\ncase GET_BY_ID:\r\n  return {\r\n    ...state,\r\n    \r\n  }\r\n\r\n\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}