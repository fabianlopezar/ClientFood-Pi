{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\INTEL i 7\\\\Desktop\\\\HENRY\\\\PI\\\\PI-Food-main\\\\client\\\\src\\\\components\\\\Create.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { postRecipes, getTypeDiet } from \"../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction controlForm(input) {\n  const lim = new RegExp(\"^[0-9]+$\");\n  let errors = {};\n  if (!input.title) errors.title = \"you should enter a title\";\n  if (!input.summary) errors.summary = \"you should enter a summary\";\n  if (input.healthScore < 0 || input.healthScore > 100 || !lim.test(input.healthScore)) errors.healthScore(\"you should enter a Score between 0 - 100\");\n  return errors;\n}\n//----------------------------\nexport function Create() {\n  _s();\n  //----------- CONSTANTES LOCALES Y GLOBALES------------------------\n  const dispatch = useDispatch();\n  const diets = useSelector(state => state.typeDiet);\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    title: \"\",\n    summary: \"\",\n    healthScore: \"\",\n    analyzedInstructions: \"\",\n    typeDiet: []\n  });\n  useEffect(() => {\n    dispatch(getTypeDiet());\n  }, [dispatch]);\n  //-------------------- MANEJADORES --------------------------------------------------\n  //----------- CHANGE -----------------------\n  function handleChange(e) {\n    setInput({\n      ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(controlForm({\n      ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n  //-------- SELECT -----------------------------------\n  function handleSelect(e) {\n    setInput({\n      ...input,\n      typeDiet: [...input.typeDiet, e.target.value]\n    });\n  }\n  //------- SUBMIT ----------------------------------------------\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatch(postRecipes(input));\n    alert(\"The recipe was created successfully. ✔️\");\n    setInput({\n      title: \"\",\n      summary: \"\",\n      healthScore: \"\",\n      analyzedInstructions: \"\",\n      typeDiet: []\n    });\n  }\n\n  //-------------------- RENDERIZADO -----------------------------------------------------------------------------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"BACK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Crea tu receta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          onChange: e => {\n            handleChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"summary:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"summary\",\n          value: input.summary,\n          onChange: e => {\n            handleChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), errors.sumary && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"healthScore:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"healthScore\",\n          value: input.healthScore,\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), errors.healthScore]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"analyzedInstructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"analyzedInstructions\",\n          value: input.analyzedInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 3\n  }, this);\n}\n_s(Create, \"x2mCbRnmT2QNrFV0wQUDVMblRio=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Create;\nvar _c;\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"names":["React","useState","useEffect","Link","useHistory","postRecipes","getTypeDiet","useDispatch","useSelector","controlForm","input","lim","RegExp","errors","title","summary","healthScore","test","Create","dispatch","diets","state","typeDiet","setErrors","setInput","analyzedInstructions","handleChange","e","target","name","value","handleSelect","handleSubmit","preventDefault","alert","sumary"],"sources":["C:/Users/INTEL i 7/Desktop/HENRY/PI/PI-Food-main/client/src/components/Create.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { postRecipes, getTypeDiet } from \"../redux/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n\r\nfunction controlForm(input){\r\n  const lim = new RegExp(\"^[0-9]+$\")\r\n  let errors = {}\r\n  if(!input.title) errors.title = \"you should enter a title\";\r\n  if(!input.summary) errors.summary=\"you should enter a summary\";\r\n  if(input.healthScore < 0 || input.healthScore > 100 || !lim.test(input.healthScore))errors.healthScore(\"you should enter a Score between 0 - 100\");\r\n  return errors;\r\n}\r\n//----------------------------\r\nexport function Create() {\r\n  //----------- CONSTANTES LOCALES Y GLOBALES------------------------\r\n  const dispatch = useDispatch();\r\n  const diets = useSelector((state) => state.typeDiet);\r\n  const [errors,setErrors]=useState({});\r\n  const [input,setInput]= useState({\r\n    title:\"\",\r\n    summary:\"\",\r\n    healthScore:\"\",\r\n    analyzedInstructions:\"\",\r\n    typeDiet:[] \r\n })\r\nuseEffect(()=>{\r\n  dispatch(getTypeDiet())\r\n},[dispatch])\r\n//-------------------- MANEJADORES --------------------------------------------------\r\n//----------- CHANGE -----------------------\r\nfunction handleChange(e){\r\n  setInput({\r\n    ...input,\r\n    [e.target.name]:e.target.value\r\n  })\r\n  setErrors(controlForm({\r\n    ...input,\r\n    [e.target.name]:e.target.value\r\n  }))\r\n}\r\n//-------- SELECT -----------------------------------\r\nfunction handleSelect(e){\r\n  setInput({\r\n    ...input,\r\n    typeDiet:[...input.typeDiet,e.target.value]\r\n  })\r\n}\r\n//------- SUBMIT ----------------------------------------------\r\nfunction handleSubmit(e){\r\n  e.preventDefault();\r\n  dispatch(postRecipes(input))\r\n  alert(\"The recipe was created successfully. ✔️\")\r\n  setInput({\r\n    title:\"\",\r\n    summary:\"\",\r\n    healthScore:\"\",\r\n    analyzedInstructions:\"\",\r\n    typeDiet:[] \r\n  })\r\n}\r\n\r\n//-------------------- RENDERIZADO -----------------------------------------------------------------------------------\r\nreturn (\r\n  <div>\r\n    <Link to=\"/home\">\r\n      <button>BACK</button>\r\n    </Link>\r\n    <h1>Crea tu receta</h1>\r\n    <form onSubmit={(e)=>{handleSubmit(e)}}>\r\n      <div>\r\n        <label>title:</label>\r\n        <input type=\"text\" value={input.name} name=\"name\" onChange={(e)=>{handleChange(e)}}/>\r\n        {errors.title && (<p>{errors.title}</p>)}\r\n      </div>\r\n      <div>\r\n        <label>summary:</label>\r\n        <input type=\"text\" name=\"summary\" value={input.summary} onChange={(e)=>{handleChange(e)}}/>\r\n        {errors.sumary && (<p>{errors.summary}</p>)}\r\n      </div>\r\n      <div>\r\n        <label>healthScore:</label>\r\n        <input type=\"text\" name=\"healthScore\" value={input.healthScore} onChange={(e)=>handleChange(e)}/>\r\n        {errors.healthScore}\r\n      </div>\r\n      <div>\r\n        <label>analyzedInstructions</label>\r\n        <input type=\"text\" name=\"analyzedInstructions\" value={input.analyzedInstructions}/>\r\n      </div>\r\n      <select></select>\r\n    </form>\r\n  </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}