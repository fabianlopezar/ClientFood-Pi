{"ast":null,"code":"import _objectSpread from\"E:/Proyectos/Proyectos React/proyecto pi food/client/ClientFood-Pi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var GET_RECIPES=\"GET_RECIPES\";var FILTER_DIET=\"FILTER_DIET\";var GET_BY_DIET=\"GET_BY_DIET\";var FILTER_CREATED=\"FILTER_CREATED\";var ORDER_BY_TITLE=\"ORDER_BY_TITLE\";var ORDER_BY_SCORE=\"ORDER_BY_SCORE\";var GET_BY_TITLE=\"GET_BY_TITLE\";var POST_RECIPES=\"POST_RECIPES\";var GET_ID=\"GET_ID\";var RESET_DETAIL=\"RESET_DETAIL\";export var initialState={recipes:[],allRecipes:[],details:[],typeDiet:[]};function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var allRecipes=state.allRecipes;switch(action.type){//---------------------\ncase RESET_DETAIL:return _objectSpread(_objectSpread({},state),{},{details:[]});//---------------------\ncase GET_RECIPES:return _objectSpread(_objectSpread({},state),{},{recipes:action.payload,allRecipes:action.payload});//---------------------\ncase GET_BY_TITLE:return _objectSpread(_objectSpread({},state),{},{recipes:action.payload});//---------------------\ncase FILTER_DIET:console.log(\"soy el.TypeDiet\",allRecipes[0].TypeDiet);console.log(\"soy el TypeDiet.name\",allRecipes[0].TypeDiet[0].name);// ketogenic\nvar typeDietFilter=action.payload===\"all\"?allRecipes:allRecipes.filter(function(el){var _el$TypeDiet;return(_el$TypeDiet=el.TypeDiet)===null||_el$TypeDiet===void 0?void 0:_el$TypeDiet.find(function(el){return el.name===action.payload;});});//:allRecipes.map(el=>el.TypeDiet.filter(el=>el.name===action.payload))\nreturn _objectSpread(_objectSpread({},state),{},{recipes:typeDietFilter});//---------------------\ncase FILTER_CREATED:var createdFilter=action.payload===\"created\"?allRecipes.filter(function(el){return el.createdInDb;}):allRecipes.filter(function(el){return!el.createdInDb;});return _objectSpread(_objectSpread({},state),{},{recipes:action.payload===\"all\"?state.allRecipes:createdFilter});//-------- ORDENAR ALFABETICAMENTE -----------------------------------------\ncase ORDER_BY_TITLE://-1, se va a situar en un indice menor a b.\n//1, b se va a situar en un indice menor a a.\n//0, no hay cambios.\nvar order=action.payload===\"asc\"?state.recipes.sort(function(a,b){if(a.title.toLowerCase()>b.title.toLowerCase()){return 1;}if(b.title.toLowerCase()>a.title.toLowerCase()){return-1;}return 0;}):state.recipes.sort(function(a,b){if(a.title.toLowerCase()>b.title.toLowerCase()){return-1;}if(b.title.toLowerCase()>a.title.toLowerCase()){return 1;}return 0;});return _objectSpread(_objectSpread({},state),{},{recipes:order});//---------------------\ncase ORDER_BY_SCORE://-1, se va a situar en un indice menor a b.\n//1, b se va a situar en un indice menor a a.\n//0, no hay cambios.\nvar orderScor=action.payload==='low'?state.recipes.sort(function(a,b){if(a.healthScore>b.healthScore){return 1;}if(b.healthScore>a.healthScore){return-1;}return 0;}):state.recipes.sort(function(a,b){if(a.healthScore>b.healthScore){return-1;}if(b.healthScore>a.healthScore){return 1;}return 0;});return _objectSpread(_objectSpread({},state),{},{recipes:orderScor});//---------------------\ncase GET_BY_DIET:return _objectSpread(_objectSpread({},state),{},{typeDiet:action.payload});//---------------------\ncase POST_RECIPES:return _objectSpread({},state);//---------------------\ncase GET_ID:console.log(\"deberia funcionar reducer by id\");return _objectSpread(_objectSpread({},state),{},{details:action.payload});//---------------------\ndefault:return state;}}export default rootReducer;","map":{"version":3,"names":["GET_RECIPES","FILTER_DIET","GET_BY_DIET","FILTER_CREATED","ORDER_BY_TITLE","ORDER_BY_SCORE","GET_BY_TITLE","POST_RECIPES","GET_ID","RESET_DETAIL","initialState","recipes","allRecipes","details","typeDiet","rootReducer","state","action","type","payload","console","log","TypeDiet","name","typeDietFilter","filter","el","find","createdFilter","createdInDb","order","sort","a","b","title","toLowerCase","orderScor","healthScore"],"sources":["E:/Proyectos/Proyectos React/proyecto pi food/client/ClientFood-Pi/src/redux/reducer.js"],"sourcesContent":["const GET_RECIPES = \"GET_RECIPES\";\r\n\r\nconst FILTER_DIET = \"FILTER_DIET\";\r\nconst GET_BY_DIET = \"GET_BY_DIET\";\r\n\r\nconst FILTER_CREATED= \"FILTER_CREATED\"\r\nconst ORDER_BY_TITLE = \"ORDER_BY_TITLE\";\r\nconst ORDER_BY_SCORE = \"ORDER_BY_SCORE\";\r\nconst GET_BY_TITLE = \"GET_BY_TITLE\";\r\n\r\nconst POST_RECIPES= \"POST_RECIPES\";\r\n\r\nconst GET_ID = \"GET_ID\";\r\nconst RESET_DETAIL=\"RESET_DETAIL\"\r\n\r\nexport const initialState = {\r\n  recipes: [],\r\n  allRecipes: [],\r\n  details: [],\r\n  typeDiet: [],\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  const allRecipes = state.allRecipes\r\n  switch (action.type) {\r\n    \r\n\r\n//---------------------\r\ncase RESET_DETAIL:\r\n  return{\r\n    ...state,\r\n    details:[]\r\n  }\r\n//---------------------\r\n    case GET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload,\r\n      };\r\n//---------------------\r\n    case GET_BY_TITLE:\r\n      return { \r\n        ...state, \r\n        recipes: action.payload,\r\n      }\r\n//---------------------\r\n    case FILTER_DIET:      \r\n    console.log(\"soy el.TypeDiet\",allRecipes[0].TypeDiet)  \r\n    console.log(\"soy el TypeDiet.name\",allRecipes[0].TypeDiet[0].name)// ketogenic\r\n      const typeDietFilter = action.payload===\"all\"\r\n      ?allRecipes \r\n      :allRecipes.filter(el=>el.TypeDiet?.find(el=>el.name===action.payload))\r\n      //:allRecipes.map(el=>el.TypeDiet.filter(el=>el.name===action.payload))\r\n      return {\r\n        ...state,\r\n        recipes:typeDietFilter\r\n      }\r\n//---------------------\r\n    case FILTER_CREATED:\r\n      const createdFilter=action.payload===\"created\"\r\n      ?allRecipes.filter(el=>el.createdInDb)\r\n      :allRecipes.filter(el=>!el.createdInDb)\r\n      return{\r\n        ...state,\r\n        recipes: action.payload===\"all\"\r\n        ?state.allRecipes\r\n        :createdFilter\r\n      }\r\n//-------- ORDENAR ALFABETICAMENTE -----------------------------------------\r\n      case ORDER_BY_TITLE:\r\n        //-1, se va a situar en un indice menor a b.\r\n        //1, b se va a situar en un indice menor a a.\r\n        //0, no hay cambios.\r\n        let order = action.payload === \"asc\"\r\n        ?state.recipes.sort(function(a,b){\r\n          if(a.title.toLowerCase() > b.title.toLowerCase()){\r\n            return 1;\r\n          }\r\n        if(b.title.toLowerCase() > a.title.toLowerCase()){\r\n          return -1;\r\n          }\r\n          return 0;\r\n        }):\r\n        state.recipes.sort(function(a,b){\r\n          if(a.title.toLowerCase() > b.title.toLowerCase()){\r\n            return -1;\r\n          }\r\n          if(b.title.toLowerCase() > a.title.toLowerCase()){\r\n            return 1;\r\n          }\r\n          return 0;\r\n        })\r\n        return {\r\n          ...state,\r\n          recipes:order\r\n      }\r\n//---------------------\r\ncase ORDER_BY_SCORE:\r\n  //-1, se va a situar en un indice menor a b.\r\n  //1, b se va a situar en un indice menor a a.\r\n  //0, no hay cambios.\r\n  let orderScor = action.payload === 'low' ? \r\n  state.recipes.sort(function(a,b) {\r\n      if(a.healthScore > b.healthScore) {\r\n          return 1\r\n      }\r\n      if( b.healthScore > a.healthScore){\r\n          return -1\r\n      }\r\n      return 0\r\n  }) : \r\n  state.recipes.sort(function(a,b) {\r\n      if(a.healthScore > b.healthScore) {\r\n          return -1\r\n      }\r\n      if( b.healthScore > a.healthScore){\r\n          return 1\r\n      }\r\n      return 0\r\n  })\r\n  return{\r\n      ...state ,\r\n      recipes : orderScor\r\n}\r\n//---------------------\r\ncase GET_BY_DIET:\r\n  return {\r\n    ...state,\r\n    typeDiet:action.payload\r\n  }\r\n//---------------------\r\ncase POST_RECIPES:\r\n  return {\r\n    ...state,\r\n  }\r\n//---------------------\r\ncase GET_ID:\r\nconsole.log(\"deberia funcionar reducer by id\")  \r\nreturn {\r\n    ...state,\r\n    details:action.payload\r\n  }\r\n//---------------------\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}